<!DOCTYPE html>
<html>
  <head>
    <title>Redirecting...</title>
  </head>
  <body>
    <script>
      const path = window.location.pathname;
      const params = new URLSearchParams(window.location.search);

      let fallbackUrl = "https://apps.apple.com/app/id6746377914";

      if (path === "/space") {
        const spaceId = params.get("id");
        const type = params.get("type"); // music or movie or tvshow or book

        if (spaceId && type) {
          window.location.href = `yourapp://space/${type}?id=${spaceId}`;
        }
      } else if (path === "/profile") {
        const userId = params.get("uid");
        if (userId) {
          window.location.href = `yourapp://profile?uid=${userId}`;
        }
      }

      // Fallback to App Store after delay
      setTimeout(() => {
        window.location.href = fallbackUrl;
      }, 1500);
    </script>
  </body>
</html>
